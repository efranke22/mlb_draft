<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Erin Franke" />


<title>Tommy John Surgery and its Relationship to MLB Pitcher Career Trajectory</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Title</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="content.html">Data Cleaning!</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Tommy John Surgery and its Relationship to MLB Pitcher Career Trajectory</h1>
<h4 class="author">Erin Franke</h4>

</div>


<p><br />
<br />
</p>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>A pitcher’s success can vary dramatically over the course of their major league career. 2015 Cy Young <a href="https://www.baseball-reference.com/players/a/arrieja01.shtml">Jake Arrieta</a> had tremendous success in the middle of his career, but began his career with the Orioles where he pitched at levels far below league average. In more recent seasons he has also struggled. To measure a pitcher’s success overtime, we might look at ERA+, which takes a player’s earned run average each season and normalizes it across the entire league. An ERA+ of 100 represents league average, 150 and 80 would respectively represent 50% better and 20% worse than league average. Despite many still considering Arrieta legendary, the quality of his pitching has been slowly declining since his Cy Young season it is clear his value to a team is not the same as it once was. Arrieta’s career trajectory can be seen on the graph on the left below, but this path is just one example of the type of trajectory a player’s career may take. Current Atlanta Brave <a href="https://www.baseball-reference.com/register/player.fcgi?id=smyly-001tod">Drew Smyly</a> has had a lot of variability in his success as a pitcher, as seen on the graph on the right. While his first four seasons appeared quite strong, Smyly performed below average 2016 and 2019 and since has had a little more success.</p>
<p><img src="index_files/figure-html/figures-side-1.png" width="50%" /><img src="index_files/figure-html/figures-side-2.png" width="50%" /></p>
<p>What might contribute to these pitching trends? While trends are incredibly complex and the result of many different factors, a major factor to pitching success is health. Notice Smyly’s missing stats in 2017 and 2018 - during this period, he underwent <a href="https://www.hopkinsmedicine.org/health/treatment-tests-and-therapies/tommy-john-surgery-ulnar-collateral-ligament-reconstruction">Tommy John surgery</a>. Tommy John surgery is a major surgery that repairs a torn ulnar collateral ligament in the elbow by replacing it with a tendon from another part of a player’s body. Recovery typically takes a year, but can take up to 2.<br />
</p>
<p>This analysis will seek to understand how the trajectory of a pitcher’s MLB success changes over the course of his career. We will measure success in two forms: by WHIP to assess skill as well as innings pitched to measure longevity. In investigating these trajectories, we will especially focus on the impact of undergoing Tommy John surgery and try to weight the risk of signing a player that has had this surgery.</p>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>This analysis uses data from all players drafted since 1987, the first year that the Secondary January Amateur draft did not exist. Data for this analysis were collected from multiple sources. Information on each player’s draft round and year were collected from a GitHub source and checked for accuracy. I then joined these data by player name and birth date with <a href="https://www.baseball-reference.com/leagues/majors/2021-debuts.shtml#all_misc_pitching">career level pitcher statistics and debut information from Baseball Reference</a>, which had to be downloaded individually for each season. Tommy John surgery information was obtained from <a href="https://mlbreports.com/tj-surgery/">MLB Reports</a>, and finally individual player data on the seasonal level were downloaded from <a href="https://stathead.com/baseball/season_finder.cgi?request=1&amp;match=single&amp;order_by=SO&amp;qualifiers=nomin&amp;minIpVal=162&amp;minDecVal=14&amp;mingamesVal=40&amp;year_min=1987&amp;year_max=2021&amp;lgs%5B%5D=AL&amp;lgs%5B%5D=NL&amp;type=p&amp;age_min=0&amp;age_max=99&amp;season_start=1&amp;season_end=-1&amp;games_started=60&amp;games_relieved=80&amp;location=pob&amp;locationMatch=is&amp;isHOF=either">Stathead Baseball</a>. The diversity of the downloaded data allowed me to create a database with a wide variety of variables, and enables the comparison between players as well as the analysis of a player’s development over the course of their career.</p>
<p>The main variables I will use in this analysis are displayed in the codebook below. They come from my final data set, which is called <code>seasonal_complete</code>. My process to create this data set is fully documented in the data cleaning section of this website.</p>
<div id="xhgcyxdrno" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xhgcyxdrno .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 13px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xhgcyxdrno .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xhgcyxdrno .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xhgcyxdrno .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xhgcyxdrno .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xhgcyxdrno .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xhgcyxdrno .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xhgcyxdrno .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xhgcyxdrno .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xhgcyxdrno .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xhgcyxdrno .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xhgcyxdrno .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xhgcyxdrno .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xhgcyxdrno .gt_from_md > :first-child {
  margin-top: 0;
}

#xhgcyxdrno .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xhgcyxdrno .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xhgcyxdrno .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xhgcyxdrno .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xhgcyxdrno .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xhgcyxdrno .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xhgcyxdrno .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xhgcyxdrno .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xhgcyxdrno .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xhgcyxdrno .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xhgcyxdrno .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xhgcyxdrno .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xhgcyxdrno .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xhgcyxdrno .gt_left {
  text-align: left;
}

#xhgcyxdrno .gt_center {
  text-align: center;
}

#xhgcyxdrno .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xhgcyxdrno .gt_font_normal {
  font-weight: normal;
}

#xhgcyxdrno .gt_font_bold {
  font-weight: bold;
}

#xhgcyxdrno .gt_font_italic {
  font-style: italic;
}

#xhgcyxdrno .gt_super {
  font-size: 65%;
}

#xhgcyxdrno .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border" style><strong>Codebook</strong></th>
    </tr>
    
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Variable</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Meaning</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">Player</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">name of pitcher</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">Year</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">year of MLB season</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">Age</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">player age during season</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">hs_draftee</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">whether the player was drafted in high school</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">birth_date</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">player date of birth</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">Debut</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">player MLB debut data</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">round</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">the player's draft round</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">surgery1Year</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">the year the player had their first Tommy John surgery while in the MLB</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">statsTime</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">whether the stats for this season come before or after the player's first surgery</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">surgery1time</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">whether the player's first surgery came before draft, between draft &amp; debut, or after debut</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">ERA+</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">adjusts a pitcher's ERA according to the pitcher's ballpark and the ERA of the pitcher's league</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">G</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">games played</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">GS</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">games started</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">IP</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">innings pitched</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #F0FFF0;">WHIP</td>
<td class="gt_row gt_left" style="background-color: #F0FFF0;">number of walks + hits per inning pitched</td></tr>
    <tr><td class="gt_row gt_left" style="background-color: #B4CDCD;">SO</td>
<td class="gt_row gt_left" style="background-color: #B4CDCD;">strikeouts</td></tr>
  </tbody>
  
  
</table>
</div>
<p><br />
<br />
</p>
</div>
<div id="understanding-career-trajectory" class="section level2">
<h2>Understanding career trajectory</h2>
<div id="age-distribution" class="section level3">
<h3>Age distribution</h3>
<p>In understanding career trajectory and longevity, we should first understand the age distribution of players in the MLB. Using all pitchers that played in the 2021 season, we get the following age distribution and see most pitchers are aged between their low twenties and low thirties.<br />
<img src="index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="career-length" class="section level3">
<h3>Career length</h3>
<p>In trying to understand the impact of having Tommy John surgery on a player’s career, we should seek to understand if there are differences in <strong>career length</strong> for players that receive the surgery. To do this, we compare the career length in seasons of players that did not have surgery at any point in their career to those that had surgery between their draft and debut date. We remove players that had surgery in the MLB for this graph - the fact that they made it far enough in their MLB career to have a surgery during it is an indicator of career length. Additionally, we do not include players that had surgery before being drafted as scouts deemed them worthy enough to be drafted despite their surgery. When looking at the graph, there do not seem to be any significant differences.<br />
<img src="index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="performance" class="section level3">
<h3>Performance</h3>
<p>For players having their first Tommy John surgery following their MLB debut, it could be interesting to understand how their performance compares before versus after their surgery. In the following graph, we can notice that players average more innings following their surgery if it is done while they are younger. On the other hand, as players age into their thirties they almost always average fewer innings after the surgery. Players that did not play following their surgery are shown in red, but this trend holds even just looking at the blue dots, which represent players that play again after their surgery.<br />
<img src="index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>A question that might be prompted when understanding this graph is how the typical innings trajectory of a player that has not had Tommy John surgery plays out.</p>
</div>
</div>
<div id="playing-after-tommy-john-surgery" class="section level2">
<h2>Playing after Tommy John surgery</h2>
<p>Tommy John surgery is a major procedure to go through, and thus it is not certain that a pitcher will return to the MLB following this surgery. For the 318 pitchers in this study that received Tommy John surgery following their MLB debut, 233 (73.27%) of them returned to the MLB to play again. These 318 pitchers all had the surgery prior to 2020, as many of those that received the surgery in 2020 and certainly in 2021 will not yet have recovered and returned major league baseball.</p>
<div id="exploratory-data-analysis" class="section level3">
<h3>Exploratory Data Analysis</h3>
<p><br />
If a team has a player decide to undergo Tommy John surgery, or is debating signing a player needing surgery, it would be helpful to understand what might be correlated with a player returning to the majors following their surgery.<br />
</p>
<p>A few possible performance based variables to look into could be the pitcher’s <strong>average strikeout rate</strong> and <strong>average WHIP</strong>, as well as <strong>total innings pitched</strong> prior to the surgery. We see that pitchers that return to the MLB tend to have slightly lower (better) WHIPs and slightly higher (better) strikeout rates. Additionally, the innings pitched variable appears highly informative. 75.29% of the pitchers that did not return to the MLB pitched fewer than 200 innings prior to their surgery. In comparison, only 51.5% of the pitchers that played after pitched less than 200 innings.</p>
<p><br />
<br />
<img src="index_files/figure-html/figures-side2-1.png" width="50%" /><img src="index_files/figure-html/figures-side2-2.png" width="50%" /></p>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p><br />
In addition to performance metrics, we can see if there is any relationship between a pitcher playing after their surgery and their role (starter or reliever) as well as whether they were a high school draftee.</p>
<p><img src="index_files/figure-html/figures-side3-1.png" width="50%" /><img src="index_files/figure-html/figures-side3-2.png" width="50%" /></p>
<p>A final variable to investigate is the age at which the player is having the Tommy John surgery. Below, we see that pitchers that pitch again tend to be slightly younger in age at the time of their surgery in comparison to those that do not play again. However, this difference is not quite as substantial as one might have originally thought.<br />
<br />
<br />
<img src="index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="introducing-the-model" class="section level3">
<h3>Introducing the model</h3>
<p>Having a basic understanding of some of these variables, we can now build a logistic regression model. In building this model, we will let <span class="math inline">\(Y\)</span> be a binary indicator of if the pitcher plays again at the MLB level following his Tommy John surgery, which occurs at probability <span class="math inline">\(\pi\)</span>. Understanding the results of the exploratory data analysis, this model will utilize the following predictors:<br />
</p>
<ul>
<li><span class="math inline">\(X_1\)</span>: indicator variable for if a player is a <strong>starter</strong> (1) or <strong>reliever</strong> (0)<br />
</li>
<li><span class="math inline">\(X_2\)</span>: continuous variable representing the <strong>total number of innings pitched</strong> by a player prior to their surgery<br />
</li>
<li><span class="math inline">\(X_3\)</span>: continuous variable representing the player’s <strong>average WHIP</strong> prior to their surgery<br />
</li>
<li><span class="math inline">\(X_4\)</span>: indicator variable of if a player was a <strong>high school draftee</strong><br />
</li>
<li><span class="math inline">\(X_5\)</span>: continuous variable representing a pitcher’s <strong>strikeout rate</strong> prior to their surgery<br />
</li>
<li><span class="math inline">\(X_6\)</span>: continuous variable for the <strong>age at which a player got surgery</strong><br />
</li>
</ul>
</div>
<div id="setting-the-priors" class="section level3">
<h3>Setting the priors</h3>
<p>Starting with the centered intercept <span class="math inline">\(\beta_{0c}\)</span>, we recall our prior understanding that for the average player there is roughly a 73% chance of rain, i.e. <span class="math inline">\(\pi \approx 0.73\)</span>. As a result, we can set the prior mean for <span class="math inline">\(\beta_{0c}\)</span> on the <em>log(odds)</em> scales to 1:<br />
</p>
<span class="math display">\[\begin{split}
\log\left(\frac{\pi}{1-\pi}\right) = \log\left(\frac{0.73}{1-0.27}\right) \approx 1  .
\end{split}\]</span>
Setting a range for this normal prior, we have a vague understanding of the <em>log(odds of returning)</em> ranges from roughly 0.3 to 1.7 <span class="math inline">\((1 \pm 2*0.35)\)</span>. In other words, the odds of a typical pitcher playing after at the MLB level following surgery could be somewhere between: <span class="math inline">\((e^{0.3}, e^{1.7}) \approx (1.35, 5.474)\)</span>. Thus the <em>probability</em> of the average pitcher returning to pitch at the MLB level could be somewhere between about 0.57 and 0.85:<br />

<span class="math display">\[\begin{split}
\left(\frac{1.35}{1 + 1.35}, \frac{5.474}{1 + 5.474}\right) \approx (0.5747, 0.8455).
\end{split}\]</span>
<p>We have only a very basic understanding of each predictor’s relationship with a player’s likelihood of returning to pitch at the MLB level and thus will utilize weakly informative priors for these coefficients. As a whole, the model can be summarized as:<br />
</p>
<span class="math display">\[\begin{array}{lcrl} 
\text{data:} &amp; \hspace{.01in} &amp; Y_i|\beta_0,\beta_1 &amp; \stackrel{ind}{\sim} \text{Bern}(\pi_i) \;\; \text{ with } \;\; \log\left(\frac{\pi_i}{1 - \pi_i}\right) = \beta_0 + \beta_1 X_{i1} + \beta_2 X_{i2} + \beta_3 X_{i3} + \beta_4 X_{i4} + \beta_5 X_{i5} + \beta_6 X_{i6}\\
\text{priors:} &amp; &amp; \beta_{0c}  &amp;  \sim N\left(1, 0.35^2 \right)  \\
               &amp; &amp; \beta_1  &amp; \sim N\left(5.0209, 2.5^2 \right) \\
               &amp; &amp; \beta_2  &amp; \sim N\left(0.00587, 2.5^2 \right) \\
               &amp; &amp; \beta_3  &amp; \sim N\left(4.0813, 2.5^2 \right) \\
               &amp; &amp; \beta_4  &amp; \sim N\left(5.556, 2.5^2 \right) \\
               &amp; &amp; \beta_5  &amp; \sim N\left(10.639, 2.5^2 \right) \\
               &amp; &amp; \beta_6  &amp; \sim N\left(0.7503, 2.5^2 \right) \\
\end{array}\]</span>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
